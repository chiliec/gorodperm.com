<div th:replace="fragments/header :: copy"></div>
<div th:replace="fragments/menu :: copy"></div>
<section>
    <form action="/posts/save" method="post">
        <input name="id" type="hidden" th:value="${post.id ?: ''}" />
        <input name="title" type="text" placeholder="Заголовок" th:value="${post.title ?: ''}">
        <textarea id="mde" rows="10" name="content" th:text="${post.content ?: ''}"></textarea>
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
        <button type="submit" onclick="simplemde.toTextArea();" accesskey="p">Опубликовать</button>
    </form>
</section>
<script>
    var element = document.getElementById('mde');
    var settings = {
        params: {
            autosave: 5,
            wordwrap: {
                paramVisible: false,
                active: false
            },
            doubleReturn: {
                modificator: 'shiftKey',
                active: true
            }
        },
        classes: {
            container: ['gp-editor']
        }
    };
    var editor = new Editor(element, settings);

    editor.init();
</script>
<div th:replace="fragments/footer :: copy"></div>